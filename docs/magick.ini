# Magick IRC Services
# (c) 1997-1999 Preston A. Elder <prez@magick.tm>
# (c) 1998-1999 W. King <ungod@magick.tm>
#
# NOTES:
#    - Where Magick links now is controlled in the
#      link dbase.  You must start Magick, and then
#      telnet to it (or use the X/Windows client)
#      and add any servers you wish to link to, and
#      other Services in the ServNet.

## -------------------------------------------------------------

[Startup]

# Info on how we present ourselves.
SERVER_NAME     =services.magick.tm
SERVER_DESC     =Magick IRC Services
SERVICES_USER   =services
SERVICES_HOST   =magick.tm

# If this is set to true, then the SERVICES_USER of each
# service will be their nickname lowercased.
OWNUSER         =false;

# Linking information.  There can be as many of these as
# you like, but each entry must have a unique ID (not
# nessicarily numeric, but thats a good system!).
#
# Format is:  SERVER:PORT:PASSWORD:PRIORITY
#
# The specified server must be the REAL NAME/IP of it.
# The specified password is NON-ENCRYPTED.
# The specified priority means 'link here ONLY if all
# higher priority servers are down or failed.
REMOTE_1        =203.30.145.2:9666:password:1

# Services Level is how Magick determines both which
# backup services to fail to, and who to give way to.
#
# When a new set of services comes online, the current
# mains will ALWAYS fail to it if it is a lower LEVEL.
# Services will be content to remain master while only
# other services of the same (or higher) level are online,
# unless it becomes too laged or dies.  Minimum is 1.
#
# This is only the BASE LEVEL (ie. its minimum).  The
# actual failing level can be changed live depending on
# how lagged services are to their server (see below).
LEVEL           =1

# This determines how many seconds PING time from the
# network is unacceptable, and its time to relinquish
# MASTER or increase its 'failing' level temporarily.
# NOTE: The PING time is taken as an average excluding
#       the highest and lowest, as in:
# ((server pings)-(higest)-(lowest)) / ((# of servers)-2)
#
# If PING >= LAGTIME, increases level by 1, until it
# falls below it.  If PING >= LAGTIME*2 it increases
# level by 2 until it falls below, and so on.  When
# PING < LAGTIME, it will be back at its original level.
#
# When master, it will fail to one of the same level when
# PING >= LAGTIME.  It will fail to one of level+1 only
# when PING >= LAGTIME*2 (and if none of lower level is
# available), and so on.  It will take over master again
# from higher levels when it falls below the threshold
# that made it fail to them in the first place.
LAGTIME         =15s

# This will stop Magick starting up.  This is here so people
# actually read through and modify the .ini file, instead
# of trying to run with the defaults.
STOP            =TRUE

## -------------------------------------------------------------

[Services]

# List (space delimited) all aliases for
# each service that should be signed on,
# and the 'real name' displayed in whois.
# No nickname will disable the service,
# and all 'sub-services'.

# Notes on modules:
#    - MEMO enables delivery of USER memos.
#    - NEWS enables delivery of CHANNEL memos.
#    - FLOOD turns on services flood protection.
#    - AKILL enables the AKILL subsystem.
#    - OPERDENY enables the IRCOP DENY subsystem.
#    - SHOWSYNC displays when the dbases will write.
#
# Dependancies:
#    - CHANSERV requires NICKSERV.
#    - MEMOSERV requires either MEMO or NEWS.
#    - MEMO requires NICKSERV.
#    - NEWS requires NICKSERV and CHANSERV.
#    - OPERSERV requires COMMSERV.
#    - COMMSERV requires NICKSERV.
#    - SHOWSYNC is indipendant of SERVMSG.

# NickName maintinance service.
NickServ        =NickServ
NickServ_Name   =Nickname Service

# Channel maintinance service.
ChanServ        =ChanServ
ChanServ_Name   =Channel Service

# Memo/news delivery service.
MemoServ        =MemoServ
MemoServ_Name   =Memo/News Service
MEMO            =TRUE
NEWS            =TRUE

# Operator/administrator service.
OperServ        =OperServ Magick-1
OperServ_Name   =Operator Service
FLOOD           =TRUE
AKILL           =TRUE
OPERDENY        =TRUE

# Committee maintinance service.
CommServ        =CommServ
CommServ_Name   =Committee Service

# Miscelaneous messages to users.
# The first is used for Global Messages
# This also replaces the old HelpServ
ServMsg         =Death HelpServ DevNull
ServMsg_Name    =Magick <--> User
SHOWSYNC        =TRUE

# Real name for any nicks WE take
Enforcer_Name   =Nickname Enforcer

## -------------------------------------------------------------

[Files]

# File containing Process ID.
PIDFILE         =magick.pid

# Default logging output file.  If VERBOSE is on, then
# ALL commands to services will be logged (if they are
# valid, it will NOT log CTCP or unknown commands).
LOGFILE         =magick.log
VERBOSE         =FALSE

# Output of /motd server, also displayed on telnet.
MOTDFILE        =magick.motd

# The physical file that stores all the logical db's in.
# MND stands for Magick New Database (standard extension).
DATABASE        =magick.mnd

# This sets the level of compression to apply to databases.
# Its just like gzip, 0 = off, 9 = max, 6 = default.
COMPRESSION     =6

# These options turn on/off encryption in Magick 2.0 and after.
# Enabling encryption affects:
#      - Databases
#      - Communications to the ServNet (encryption must be
#        enabled or disabled on ALL servers, with same phrase)
#      - The magick client
#
# They specified keyfile MUST be generated with the Magick Key
# Generator that is supplied with Magick 2.0 and above.
# NOTE: Key files are system-dependant.  They must be generated
# again with the same passphrase if moved to another system.
#
# If you turn on encryption and the data in the key file is
# incorrect (or missing), Magick will halt (even if running).
# If you turn on encryption and the databases are NOT encrypted,
# then Magick will write the databases encrypted next save.
# If you turn off encryption, the databases are encrypted, and
# the keyfile is correct, it will disable encryption.
KEYFILE         =magick.key
ENCRYPTION      =false

## -------------------------------------------------------------

[Config]

# Delay (or if) between attempting to reconnect to parent
# server if server is SQUIT or parent server dies.  Set to
# 0 to disable.  First attempt will be same parent that
# died, and second (immediately after) will be other same-
# level servers (defined in link.db).
SERVER_RELINK   =5s

# SQUIT_PROTECT is the amount in seconds to allow a server
# to be missing before it will force it's users to re-ident
# when it comes back.
#
# The way SQUIT protection works, is that it see's a quit
# message with 2 linked server names in it, it then acticates
# a timer waiting for the SQUIT message.  If the SQUIT message
# for that user's server (or one of its uplinks) does not come
# before the timer (SQUIT_CANCEL seconds) is up, it signs off
# the user that indicated the 'early warning' of a SQUIT.
# ie. its fake, the user typed /quit server server.
SQUIT_PROTECT   =2m
SQUIT_CANCEL    =10s

# Delay (in seconds) between ACTIVE CYCLES (database saving,
# checking for expired nicknames/channels, etc).
CYCLETIME       =5m

# Delay (in seconds) between HYPERACTIVE CYCLES (checking for
# bans that are too old, etc).  Keep in mind, that some of these
# checks may need to go therough every nick or channel entry.
# If you are seeing magick taking up too much load, then try
# setting this to a higher value, but DO NOT set it too high.
CHECKTIME       =5s

# Delay (in seconds) between server pings.  Services ping all
# servers to try to keep an up to date lag check.  This is how
# often to do it.
PING_FREQUENCY  =30s

# Non-Star chars needed for AKILL, CLONE and AKICK
#    3 means *.com will work, but *.au wont
#    4 means *.com wont work, need *a.com
STARTHRESH      =4

# This is the default amount of rows to return when
# a LIST command is executed, and the maximum rows
# to ever return (if it is overridden).
LISTSIZE        =50
MAXLIST         =250

# Startup Threads is the number of initial threads
# to place in the pool at starting of the server
# depending on initial connection load this will
# help distribute the startup load to the server
# hopefully evenly accross the threads. As load
# lowers, so will the number of threads residing
# in the pool. As the load increases, so will the
# number of threads increase accordingly, to cater
# with the higher load in a more timely fashion.
#
# The startup value is the minimum amount of threads.
STARTUP_THREADS  =2

# Low Water Mark is a number to help in the releasing of old
# threads to reduce overhead, basically the equation is
# if (((No_of_Threads - 2) * High_Water_Mark) + Low_Water_Mark
#         > No_Unprocessed_Messages && No_of_Threads > 1)
# then release a thread from the pool.
LOW_WATER_MARK   =20

# High Water Mark is a number to help in the spawning of new
# threads to handle load, basically the equation is
# if (No_of_Threads * High_Water_Mark < No_Unprocessed_Messages)
# then spawn a new thread off and add it to the pool.
HIGH_WATER_MARK  =25

## -------------------------------------------------------------

[NickServ]

# Maximum length of a nickname that WE will rename someone to
# (ie. if they fail to ident).  This should whatever your IRCD
# allows (but can be less, however it will just kill a user if
# they have a nickname longer than this value), and it will
# have the rename request rejected if this is longer than the
# IRCD allows).  Think CAREFULLY about this one, or test it.
MAXLEN          =32

# When renaming a user, it will try and add the first character
# listed below to the end of the nickname, and then two of them,
# and so on until it reaches MAXLEN, then it will try and add
# one of the second character, then two of them, etc.
SUFFIXES        =_-^`

# Number of days to keep a nick before expiring it (unless is on
# IRC Operator committee).
EXPIRE          =28d

# Number of seconds to wait for IDENT.
IDENT           =1m

# Delay (in seconds) to keep a nick taken by failed IDENT.
RELEASE         =1m

# Number of failed passwords before user is killed.
PASSFAIL        =5

# Flags to set by default (on registration).
# Also wether to FORCE the default value.
DEF_PROTECT     =TRUE
LCK_PROTECT     =FALSE

DEF_SECURE      =FALSE
LCK_SECURE      =FALSE

DEF_NOEXPIRE    =FALSE
LCK_NOEXPIRE    =FALSE

DEF_NOMEMO      =FALSE
LCK_NOMEMO      =FALSE

DEF_PRIVATE     =FALSE
LCK_PRIVATE     =FALSE

DEF_PRIVMSG     =FALSE
LCK_PRIVMSG     =FALSE

DEF_LANGUAGE    =english
LCK_LANGUAGE    =FALSE

# This is the maximum size of the user's picture  Set this
# to 0 to disable user's storing their picture in services.
PICSIZE         =0

# Valid extensions for pictures to be stored in services.
PICEXT          =jpg gif bmp tif

## -------------------------------------------------------------

[ChanServ]

# Number of days to keep a channel before expiring it (unless
# NoExpire set by SOP).
EXPIRE          =14d

# Default AKICK reason if none specified (set on registration).
DEF_AKICK       =You have been banned from channel

# Number of failed passwords before user is killed.
PASSFAIL        =5

# How long (in seconds) to keep channel after AKICK (if empty).
CHANKEEP        =15s

# Flags to set by default (on registration).
# Also wether to FORCE the default value (or modes to force
# for MLOCK).
DEF_MLOCK       =+nt
LCK_MLOCK       =+

DEF_BANTIME     =0
LCK_BANTIME     =FALSE

DEF_KEEPTOPIC   =TRUE
LCK_KEEPTOPIC   =FALSE

DEF_TOPICLOCK   =FALSE
LCK_TOPICLOCK   =FALSE

DEF_PRIVATE     =FALSE
LCK_PRIVATE     =FALSE

DEF_SECUREOPS   =FALSE
LCK_SECUREOPS   =FALSE

DEF_SECURE      =FALSE
LCK_SECURE      =FALSE

DEF_NOEXPIRE    =FALSE
LCK_NOEXPIRE    =FALSE

DEF_ANARCHY     =FALSE
LCK_ANARCHY     =FALSE

DEF_RESTRICTED  =FALSE
LCK_RESTRICTED  =FALSE

DEF_JOIN        =FALSE
LCK_JOIN        =FALSE

DEF_REVENGE     =NONE
LCK_REVENGE     =FALSE

# Minimum and Maximum settable levels.
LEVEL_MIN       =-1
LEVEL_MAX       =30

# Levels to set by default (on registration).
LVL_AUTODEOP    =-1
LVL_AUTOVOICE   =5
LVL_AUTOOP      =10
LVL_READMEMO    =0
LVL_WRITEMEMO   =15
LVL_DELMEMO     =25
LVL_GREET       =1
LVL_OVERGREET   =25
LVL_MESSAGE     =20
LVL_AKICK       =20
LVL_SUPER       =25
LVL_UNBAN       =10
LVL_ACCESS      =5
LVL_SET         =25
LVL_VIEW        =1
LVL_CMDINVITE   =5
LVL_CMDUNBAN    =10
LVL_CMDVOICE    =5
LVL_CMDOP       =10
LVL_CMDKICK     =15
LVL_CMDMODE     =15
LVL_CMDCLEAR    =20

## -------------------------------------------------------------

[MemoServ]

# How long should news articles remain (unless marked PERMANENT
# by founder).  Value is in days.
NEWS_EXPIRE     =21d

# How long to wait before actually sending a memo, or cancelling
# it no DCC is received when a file attachment is expected.
# Value is in seconds.
INFLIGHT        =2m

# How many files a user may have waiting for them before any new
# files being sent to them are rejected.  Set this to 0 to disable
# sending file attachments in memos.
FILES           =0

# Maximum size of each file a user may have waiting for them.
# Set this to 0 to have unlimited file sizes (not recommended).
FILESIZE        =0

## -------------------------------------------------------------

[OperServ]

# Who are the Services Admins (space-delimited,  NICKNAMES ONLY)
# Note that to modify the Services OP list the user must:
#    - Have a nickname in the list below
#    - Be an IRC Operator (have mode +o enabled)
#    - Identify with NickServ (if nickserv is enabled)
SERVICES_ADMIN  =PreZ Lord_Striker

# Only people on the OPER/ADMIN/SOP/SADMIN committees can access
# operserv (if turned off, anyone who sets mode +o can.  If on,
# users dont need to set mode +o to access operserv).
SECURE          =FALSE

# Default expiry for AKILLs if no expiry time specified.
# h =hours, d =days, m =months, y =years
# and p =permanent (no number before it required).
DEF_EXPIRE      =3h

# Maximum time (in akill time format) AKILL's can be set for for
# members of the 4 hard-coded committees.
EXPIRE_OPER     =1d
EXPIRE_ADMIN    =1w
EXPIRE_SOP      =8w
EXPIRE_SADMIN   =1y

# Maximum allowable number of clons allowable with override
MAX_CLONE       =50

# Global limit of connections per host (non-overridden).
CLONE_LIMIT     =2

# Default kill reason for exceeding clone limit.
DEF_CLONE       =Maximum connections from one host exceeded

# If FLOOD_MESSAGES messages are received in FLOOD_TIME
# seconds, then flood is triggered (user is ignored).
FLOOD_TIME      =10s
FLOOD_MSGS      =5

# Time (in seconds) to ignore user when flood triggered.
IGNORE_TIME     =20s

# Amount of temporary (timed) ignores user must have had
# before a permanent one is adopted.
IGNORE_LIMIT    =5

# Time (in seconds) to remember old flood triggers (if a
# permanent ignore hasnt been triggered).
IGNORE_REMOVE   =5m

# Mask that services ignore should use when inoring users.
#  1 - nick!*@*
#  2 - nick!user@port.host
#  3 - nick!user@*.host
#  4 - nick!*@port.host
#  5 - nick!*@*.host
#  6 - *!user@port.host
#  7 - *!user@*.host
#  8 - *!*@port.host
#  9 - *!*@*.host
IGNORE_METHOD   =8

## -------------------------------------------------------------

[CommServ]

# Default values for committees -- Set by default.
DEF_SECURE      =FALSE
LCK_SECURE      =FALSE

DEF_PRIVATE     =FALSE
LCK_PRIVATE     =FALSE

DEF_OPENMEMOS   =TRUE
LCK_OPENMEMOS   =FALSE

# Name of 'Dynamic' committees (for LOGON memos).
ALL_NAME        =ALL
REGD_NAME       =REGD

# Name and values for DEFAULT committees
SADMIN_NAME     =SADMIN
SADMIN_SECURE   =TRUE
SADMIN_PRIVATE  =FALSE
SADMIN_OPENMEMOS=TRUE

SOP_NAME        =SOP
SOP_SECURE      =TRUE
SOP_PRIVATE     =FALSE
SOP_OPENMEMOS   =TRUE

OPER_NAME       =OPER
OPER_SECURE     =TRUE
OPER_PRIVATE    =FALSE
OPER_OPENMEMOS  =TRUE

ADMIN_NAME      =ADMIN
ADMIN_SECURE    =TRUE
ADMIN_PRIVATE   =FALSE
ADMIN_OPENMEMOS =TRUE


## -------------------------------------------------------------

[ServMsg]

## -------------------------------------------------------------
# END
